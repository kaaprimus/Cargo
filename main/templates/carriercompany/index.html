{% extends 'carriercompany/base.html' %}
{% load static %} 

{% load pagination_tags %}

{% block content %}
<!-- Content wrapper -->
<div class="content-wrapper">
  <!-- Content -->
  <div class="container-xxl flex-grow-1 container-p-y">
    <div class="row">

        <div class="col-lg-8 mb-4 order-0">
          <div class="card">
            <div class="d-flex align-items-end row">
              <div>
                <div class="card-body">
                  <h5 class="card-title text-primary">Welcome, <span class="fw-bold">{{user}}</span>! ðŸŽ‰</h5>
                  <p class="mb-4">
                    Hello, you are logged in and ready to get started. Click on the button to view orders.
                  </p>

                  <a href="{% url 'orders_list' %}" class="btn btn-sm btn-outline-primary">View orders</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="page-header">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a>Orders</a></li>
                </ol>
            </nav>
        </div>
      </div>
      
      <div class="row mb-5 mt-0 d-flex">
        {% for value in orders %}
        <div class="col-md col-md-6 m-0">
          <div class="card mb-3">
            <div class="row g-0">
              <div class="col-md-4">
                <img class="card-img card-img-left" src="{% static '/assets/img/elements/12.jpg' %}" alt="Card image">
                <button class="btn btn-primary m-5 mt-2 mb-0">Respond</button>
              </div>
              <div class="col-md-8">
                <div class="card-body">
                  <h5 class="card-title">{{value.shipper_company.companyname}}</h5>
                  <p class="card-text">
                    {{value.description}}
                  </p>
                  <p class="card-text"><small><b>Departure date:</b></small> <small class="text-muted">{{value.departureDate}}</small></p>
                  <p class="card-text"><small><b>Destination date:</b></small> <small class="text-muted">{{value.destinationDate}}</small></p>
                  <p class="card-text"><small><b>Departure city:</b></small> <small class="text-muted">{{value.departureCity}}</small></p>
                  <p class="card-text"><small><b>Destination city:</b></small> <small class="text-muted">{{value.destinationCity}}</small></p>
                </div>
              </div>
            </div>
          </div>
        </div>
        {% empty %}
            <p class="card-text">No orders available.</p>
        {% endfor %}

        <nav aria-label="Page navigation">
          <ul class="pagination">
            {% if orders.has_previous %}
              <li class="page-item first">
                <a class="page-link" href="?page={{ orders.previous_page_number }}"><i class="tf-icon bx bx-chevrons-left"></i></a>
              </li>
            {% endif %}
            <li class="page-item">
              <a class="page-link">{{ orders.number }} of {{ orders.paginator.num_pages }}</a>
            </li>
            {% if orders.has_next %}
            <li class="page-item last">
              <a class="page-link" href="?page={{ orders.next_page_number }}"><i class="tf-icon bx bx-chevrons-right"></i></a>
            </li>
            {% endif %}
          </ul>
        </nav>
        
    </div>

    
    </div>
   <!-- / Content -->

            

   



{% endblock content %}
